<!DOCTYPE html><html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Veterinaria UOH</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f5f5f5;
      color: #333;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #5e4b8b;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 20px;
    }
    .year {
      background: #e4ecf1;
      padding: 10px;
      border-radius: 10px;
    }
    .year h2 {
      text-align: center;
      color: #3e3b5c;
    }
    .course {
      background: #d9f0dc;
      padding: 8px;
      margin: 5px 0;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .course.completed {
      background: #b1e5c8;
      text-decoration: line-through;
    }
    .course.locked {
      background: #e0e0e0;
      color: #888;
      cursor: not-allowed;
      position: relative;
    }
    .course.locked:hover::after {
      content: attr(data-tooltip);
      position: absolute;
      left: 105%;
      top: 0;
      background: #5e4b8b;
      color: white;
      padding: 5px 8px;
      border-radius: 5px;
      white-space: nowrap;
    }
  </style>
</head>
<body>
  <h1>Malla Curricular Medicina Veterinaria - UOH</h1>
  <div class="grid" id="malla"></div>  <script>
    const cursos = {
      "1° Año": [
        {nombre: "Anatomía Animal"},
        {nombre: "Biología"},
        {nombre: "Botánica"},
        {nombre: "Zoología"},
        {nombre: "Matemáticas"},
        {nombre: "Introducción a la Medicina Veterinaria"},
        {nombre: "Comunicación Oral y Escrita"},
        {nombre: "Anatomía Comparada", req: ["Anatomía Animal"]},
        {nombre: "Biología del Desarrollo e Histología", req: ["Biología"]},
        {nombre: "Ecología General", req: ["Botánica", "Zoología"]},
        {nombre: "Bioestadística", req: ["Matemáticas"]},
        {nombre: "Herramientas Computacionales"},
        {nombre: "Química"},
        {nombre: "Inglés 1"}
      ],
      "2° Año": [
        {nombre: "Fisiología 1", req: ["Anatomía Animal", "Química"]},
        {nombre: "Bioética y Deontología"},
        {nombre: "Bioquímica", req: ["Química"]},
        {nombre: "Etología y Bienestar Animal"},
        {nombre: "Epidemiología", req: ["Bioestadística"]},
        {nombre: "Economía", req: ["Bioestadística"]},
        {nombre: "Inglés 2"},
        {nombre: "Fisiología 2", req: ["Fisiología 1"]},
        {nombre: "Inmunología", req: ["Biología", "Bioquímica"]},
        {nombre: "Microbiología 1", req: ["Biología", "Bioquímica"]},
        {nombre: "Manejo y Conservación de Fauna Silvestre", req: ["Ecología General", "Etología y Bienestar Animal"]},
        {nombre: "Nutrición Animal", req: ["Bioquímica"]},
        {nombre: "Administración de Proyectos", req: ["Economía"]},
        {nombre: "Inglés 3"}
      ]
      // Puedes continuar agregando los siguientes años aquí...
    };

    const aprobados = JSON.parse(localStorage.getItem('aprobados') || '[]');

    function crearMalla() {
      const malla = document.getElementById('malla');
      Object.entries(cursos).forEach(([año, materias]) => {
        const contenedor = document.createElement('div');
        contenedor.classList.add('year');
        const h2 = document.createElement('h2');
        h2.textContent = año;
        contenedor.appendChild(h2);

        materias.forEach(curso => {
          const div = document.createElement('div');
          div.classList.add('course');
          div.textContent = curso.nombre;

          const cumplidos = !curso.req || curso.req.every(r => aprobados.includes(r));
          if (!cumplidos) {
            div.classList.add('locked');
            div.dataset.tooltip = `Falta: ${curso.req.filter(r => !aprobados.includes(r)).join(', ')}`;
          } else {
            if (aprobados.includes(curso.nombre)) div.classList.add('completed');
            div.addEventListener('click', () => toggleCurso(curso.nombre));
          }

          contenedor.appendChild(div);
        });

        malla.appendChild(contenedor);
      });
    }

    function toggleCurso(nombre) {
      const index = aprobados.indexOf(nombre);
      if (index > -1) {
        aprobados.splice(index, 1);
      } else {
        aprobados.push(nombre);
      }
      localStorage.setItem('aprobados', JSON.stringify(aprobados));
      location.reload();
    }

    crearMalla();
  </script></body>
</html>
